---
pagename: Enterprise Integrations
redirect_from:
Keywords:
sitesection: Documents
categoryname: "Conversational AI"
documentname: Conversation Builder
subfoldername: Conversation Builder
permalink: conversation-builder-conversation-builder-enterprise-integrations.html
indicator: both
---


### Custom Configuration Flags

Within CB when adding an "**Enterprise Integration**" to connect your automation to a LE bot agent user, there is a UI section at the bottom of the screen where feature flags are entered called 

**_"Custom Configurations"_**

This allows key/value pairs to set/change various settings that can have a massive impact on your bot automation and the behaviour.

**This causes potentially many issues as it allows for human error when connecting the bot "brain" to an agent “body”.** These custom flags allow for fundamental changes in bot behaviour *outside* of the design of the automation and are injected at the point of connecting a bot automation to an agent on a 1:1 basis!

**_Example:_** *Should you forget/mis-configure these settings for 1 of your 3 duplicate bot agents all running the same "automation" you will get different behaviour between the bots within an account!*

If you have specialist bot automations receiving conversations from routing bots where you enabled the [skipAgentMessage](#skipAgentMessage) setting on 2 of the 3 bot agents, they will not behave the same when receiving conversations! 

#### Applying these settings

**Note**: when making additions/edits/deletions of these properties to your existing bot agent connections, you MUST restart the bot for the changes to take effect! This means stopping and then starting the bot again via the Operations role in Conversation Builder or via the Enterprise integrations section of an individual bot automation.


#### Flags

| FieldName   | Default Value      | Description    | Messaging | Chat | Required |
|-------------------------|--------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------|------|----------|
| lpAccountId             | null                                            | LE Account Id                                                                                                                                                                                                                                                                                                                                                                                                    | Y         | Y    | Y        |
| lpAccountUser           | null                                          | LE Account Username                                                                                                                                                                                                                                                                                                                                                                                              | Y         | Y    | Y        |
| lpPassword              | null                                             | LE Account PW                                                                                                                                                                                                                                                                                                                                                                                                    | Y         | Y    | Y        |
| lpAppKey                | null                                               | LE Account App key, if OAUTH authentication selected                                                                                                                                                                                                                                                                                                                                                             | Y         | Y    | Y        |
| lpAppSecret             | null                                            | LE Account App Secret, if OAUTH authentication selected                                                                                                                                                                                                                                                                                                                                                          | Y         | Y    | Y        |
| lpAccessToken           | null                                          | LE Account Access Token, if OAUTH authentication selected                                                                                                                                                                                                                                                                                                                                                        | Y         | Y    | Y        |
| lpAccessTokenSecret     | null                                    | LE Account Access token secret, if OAUTH authentication selected                                                                                                                                                                                                                                                                                                                                                 | Y         | Y    | Y        |
| csdsDomain              | null                                                   | CSDS Domain for connecting to LiveEngage Servers\. Typically we don’t need to set anything for this field, but for LP QA accounts we need to set the field to:hc1n\.dev\.lprnd\.net                                                                                                                                                                                                                              | Y         | Y    | N        |
| lpUserRole              | ASSIGNED\_AGENT                                        | Determines whether the user is Agent Manager or Agent\.Possible values: ASSIGNED\_AGENT, MANAGER                                                                                                                                                                                                                                                                                                                 | Y         | N    | N        |
| enableAccessibility     | TRUE                                                   | Determines whether the fields sent have the tooltip attribute for accessibility\.                                                                                                                                                                                                                                                                                                                                | Y         | Y    | N        |
| fallbackSkillId         | null                                                   | Skill Id for agent escalation if the bot does not respond to user message after a period of time set byfallbackEscalationTime                                                                                                                                                                                                                                                                                    | Y         | Y    | N        |
| fallbackEscalationTime  | 3 \* 1000 \* 60                                        | Value in milliseconds for the period of time to pass before invoking fallback Escalation                                                                                                                                                                                                                                                                                                                         | Y         | N    | N        |
| defaultGreetingMessage  | ‘hi’                                                   | Greeting message sent to the bot when the user connects                                                                                                                                                                                                                                                                                                                                                          | Y         | Y    | N        |
| defaultStepupMessage    | ‘\_STEPUP\_                                            | StepUp message sent to the bot when Stepup Authentication happens                                                                                                                                                                                                                                                                                                                                                | Y         | N    | N        |
| messageDelay            | 300 \(default set to \.3 ms, 3 seconds would be 3000\) | We have logic to collect and aggregate user messages before sending to the bot service\. I\.e\. if the user send two messages, “hi” and “how are you”, we will wait 300 miliseconds after the “hi” message and if “how are you” comes in the 300 ms window, we will concatenate both messages and send it as one message “hi how are you” to the bot                                                             | Y         | N    | N        |
| skipAgentMessage        | false                                                  | If "false", when a bot receives a conversation it sees the last utterance in the conversation history - **_regardless who sent it (agent or consumer)_**. If "true", even if the last message in the conversation history is from an agent, it will be ignored - and the receiving bot will "see" the last **_consumer message_** as the first utterance for processing. Setting to "true" is useful when you have a routing bot passing off the conversation to a specialist bot and you do not want the transfer message sent from the routing bot to be seen by the specialist bot when it receives the conversation. | Y         | N    | N        |
| tileDisplay             | vertical                                               | Vertical or horizontal display for rich structured content\. Available for FB, Web, and GRBM. Setting tileDisplay to **horizontal** is useful for resolving formatting issues that may occur on specific channels.                                                                                                                                                                                                                                                                                                                     | Y         | N    | N        |
| messageResendMaxRetries | 1                                                      | After sending a message to the CB chatserver, if there is no bot response or mark\_seen message type, it will resend the message up to the messageResendMaxRetries count                                                                                                                                                                                                                                         | Y         | N    | N        |
| retryMessageInterval    | 30000                                                  | Tied with messageResendMaxRetries, will wait 30000 miliseconds before re\-sending the message                                                                                                                                                                                                                                                                                                                    | Y         | N    | N        |
| maxEscalationRetries    | 5                                                      | When the agent escalation fails, we send an \_agent\_escalation\_failed\_ message, however this can end in infinitely loop if the escalation keep failing\. This will set the max number of failure messages sent                                                                                                                                                                                                | Y         | N    | N        |
| ringAcceptWait          | 100 milliseconds                                       | Amount of time to wait before the bot accepts the ring from UMS\.                                                                                                                                                                                                                                                                                                                                                | Y         | N    | N        |
| useRedis                | “WEBSOCKET”                                            | If set to “REDIS”, will use redis Q connection instead of websocket connection                                                                                                                                                                                                                                                                                                                                   | N         | N    | N        |
| externalWebhookUrl      | null                                                   | URL used for HTTP Connector to post message to external endpoints                                                                                                                                                                                                                                                                                                                                                | Y         | Y    | N        |
| externalWebhookAPIKey   | null                                                   | Auth header for external HTTP headers, api calls will be sent as: Bearer \{api\_key\}                                                                                                                                                                                                                                                                                                                            | Y         | N    | N        |
| apigee\_auth\_url       | null                                                   | AllState related Auth API field                                                                                                                                                                                                                                                                                                                                                                                  | Y         | N    | N        |
| apigee\_grant\_type     | null                                                   | AllState related Auth API field                                                                                                                                                                                                                                                                                                                                                                                  | Y         | N    | N        |
| apigee\_audience        | null                                                   | AllState related Auth API field                                                                                                                                                                                                                                                                                                                                                                                  | Y         | N    | N        |
| apigee\_client\_id      | null                                                   | AllState related Auth API field                                                                                                                                                                                                                                                                                                                                                                                  | Y         | N    | N        |
| apigee\_client\_secret  | null                                                   | AllState related Auth API field                                                                                                                                                                                                                                                                                                                                                                                  | Y         | N    | N        |
